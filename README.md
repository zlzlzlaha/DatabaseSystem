# 뮤직 어플리케이션 DB  
실제 music application을 만들 때 필요한 DB를 설계한다고 생각하고, 주어진 요구 사항에서 발전시켜 설계한다. 최종적으론 query를 수행하는 콘솔 프로그램을 만들어 보는 프로젝트   
요구사항 분석, ER model, Relation Model, query 콘솔 프로그램 제작으로 총 4개의 project로 이루어져 있으며, p4를 제외하곤, 프로그램 작성은 하지 않았다.    

## 요구사항 분석     
매우 기본적인 요구 사항이 다음과 같이 주어진다.  
* 관리자는 음악을 등록,삭제 한다
* 사용자는 음악을 플레이리스트에 등록, 삭제 한다. 
* 사용자는 회원가입을 한다.     

위의 요구 사항에서 본인이 원하는 요구 사항들을 추가시킨다. 요구 사항을 추가하면서 필요한 contraint 역시 추가해준다.      
자세한 내용은 문서에 있지만, 당시에  기본적으로 음악 어플리케이션엔 앨범, 아티스트가 있어야 한다고 생각하여 이와 관련된 내용들을 추가 시켜주었고 
사용자, 관리자,  음악, 플레이리스트에 대한 기본적으로 필요하다고 생각되는 요구사항들은 모두 추가 시켜주었다.    
중요한 것은 앞에 프로젝트에서 기획한 내용들은 뒤에 프로젝트 전부 반영이 되어야한 다는 점이었다. 음악 차트를 넣고 싶었으나, 당시엔 뒤에 무슨 내용들을 배우고,    
실제로 무엇을 구현해야 할지 몰랐기 때문에 해당 내용은 제외하였다. (사실 DB data만 만들어 주면 되는데 당시엔, 실제 음악 어플리케이션을 만든다고 생각했기 때문에, 
어떻게 음악을 스트리밍하고 실제로 재생횟수를 어떻게 기록해야 할지 감이 안잡혔던 것 같다)   


---

## ER Model & Relational Model   
앞에서 설계한 요구사항들을 ER model, Relational Model로 변경시켜주는 프로젝트  


---

## JDBC Program  
요구사항에서 언급했던 모든 내용들을 실제로 console 프로그램에서 query를 날릴 수 있게 구현하는 프로그램이다.  maria DB에 DDL 관련 내용들을 처리하였고, 필요한 기본적인 data는 직접적으로 DB로 추가하였다.
maria DB, java, jdbc를 사용하여 query에 대한 기능들을 추가하였다.  
프로그램을 키면, 관리자나 사용자로 로그인 할 수 있으며, DB에 대한 쿼리를 날려 로그인 성공 여부를 알 수 있다. 로그인에 성공하였을 경우 유저 또는 관리자의 객체가 생성되며, 생성자 내부에 있는 코드들을 통해   역할에 맞는 기능을 수행 할 수 있다.  
기본적으로 데이터 생성에 대한 로직은 insert로 쉽게 구현할 수 있었지만, delete에 대한 부분은 앞에 프로젝트에서 구체적으로 constraint를 주었기 때문에 전부 구현을 하느라 어려움이 있다.   
예를 앨범에 수록 된 곡들이 최소 하나씩은 있어야 한다고 정해 놨으면 만약 곡이 삭제되었을 때, 이에 대한 constraint를 지키기 위해 추가적인 쿼리를 날려 앨범에 남아 있는 곡이 없으면 앨범까지 삭제를 해야하는 비즈니스 로직을 들을 구현해야한다. 앞에서 정해둔 constraint가 많았기 때문에 실제로 추가되는 SQL을 어떻게 짜야할지 많은 고민들을 했고, 전부 구현을 했었다.
한참뒤에 jdbc를 다시 사용해보는 기회가 생겼는데, 해당 프로젝트를 떠올리며 정말 구현했다는 것을 알게 되었다. 
* 당시에 프로젝트에선 jdbc connection을 만들어 두면, 프로그램이 종료될 때 까지 계속 사용하였다.  
* query중간에 parameter가 들어가게 되면 항상 "str1" + paramater + "str2"와 같이 쿼리문을 작성하였는데, preparedStatement처럼 가독성 높은 방식도 사용할 수 있다는 것을 뒤늦게 알게 되었다.  
* SQL자체로 자동적으로 키값을 올려줄 수 있는 방식을 사용할 수도 있었는데, 데이터를 추가할때 마다 key 값이 젤 큰 것을 찾아 +1을 해주는 방식으로 insert를 했었다.  
* 공통적이거나, 반복적으로 사용하는 부분이 매우 많았음에도, copy로 같은 코드를 썼었다.   
아쉬운 점은 많지만, 당시에 실제로 DB와 프로그램으 어떻게 연결하는지 확인 해볼 수 있는 프로젝트 였다. Dto, Dao를 사용하는 방법으로도 구현해보면 재미있을 것 같다. 

